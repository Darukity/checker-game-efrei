<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste d'adversaires - Dame Projet</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/lobby.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-title">
                <h1>ğŸ® Dame Projet</h1>
            </div>
            <div class="navbar-center">
                <span id="userPseudo" class="user-pseudo">Utilisateur</span>
                <span id="connStatus" class="connection-status online">â— En ligne</span>
            </div>
            <div class="navbar-buttons">
                <a href="lobby.html" class="nav-btn active">Liste d'adversaires</a>
                <a href="myGames.html" class="nav-btn">Mes Parties</a>
                <a href="spectator.html" class="nav-btn">Spectateur</a>
                <button id="logoutBtn" class="nav-btn logout">DÃ©connexion</button>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="lobby-section">
            <h2>Adversaires disponibles</h2>
            
            <div id="statusInfo" class="status-info">
                <p>ğŸ”„ Connexion au serveur en cours...</p>
            </div>

            <div id="usersList" class="users-list">
                <div class="loading">Chargement des utilisateurs...</div>
            </div>

            <div id="errorAlert" class="error-alert hidden"></div>
        </section>
    </main>

    <!-- Modal d'invitation -->
    <div id="inviteModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirmer l'invitation</h3>
                <button class="modal-close" onclick="closeInviteModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <p id="inviteText">ÃŠtes-vous sÃ»r de vouloir inviter cet utilisateur Ã  jouer?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeInviteModal()">Annuler</button>
                <button id="confirmInviteBtn" class="btn btn-primary">Inviter</button>
            </div>
        </div>
    </div>

    <!-- Modal d'invitation reÃ§ue -->
    <div id="incomingInviteModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Invitation Ã  jouer</h3>
                <button class="modal-close" onclick="closeIncomingInviteModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <p id="incomingInviteText">Vous Ãªtes invitÃ© Ã  jouer</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeIncomingInviteModal()">Refuser</button>
                <button id="confirmIncomingInviteBtn" class="btn btn-primary">Accepter</button>
            </div>
        </div>
    </div>

    <script src="js/websocket.js?v=2"></script>
    <script src="js/navbar.js?v=2"></script>
    <script src="js/lobby.js?v=2"></script>
</body>
</html>
